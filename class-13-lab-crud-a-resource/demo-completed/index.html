<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>Blog</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="vendor/styles/normalize.css">
    <link rel="stylesheet" href="styles/icons.css">
    <link rel="stylesheet" href="styles/base.css">
    <link rel="stylesheet" href="styles/layout.css">
    <link rel="stylesheet" href="styles/modules.css">

    <script id="book-template" type="text/x-handlebars-template">

      <section id="pagination" class="navigation">
        {{#if hasPrevPage}}
        <a href="index.html?page={{prevPage}}"> << Prev</a> |
        {{/if}}
        Page {{page}} |
        <a href="index.html?page={{nextPage}}"> Next >> </a>
      </section>

      <section id="books">
        <table border="1" style="width:100%">
          <tr>
            <th>ID</th>
            <th>Title</th>
            <th>Author</th>
            <th>Year</th>
          </tr>
          {{#each books}}
          <tr>
            <td>{{id}}</td>
            <td>{{title}}</td>
            <td>{{author}}</td>
            <td>{{year}}</td>
          </tr>
          {{/each}}
        </table>
      </section>
    </script>
  </head>
  <body>
    <header class="site-header clearfix">
      <section class="heading-group-h1">
        <h1>
          Kilovolt Blog!
        </h1>
        <h2>The shocking power of static pages</h2>
      </section>
      <nav class="main-nav">
        <div class="icon-menu"></div>
        <ul>
          <li class="tab" data-content="articles"><a href="#" class="icon-home"> Home</a></li>
          <li class="tab" data-content="about"><a href="#" class="icon-address-book"> About</a></li>
          <li><a href="http://twitter.com/brookr" target="_blank" class="icon-twitter3"> Twitter</a></li>
          <li><a href="http://github.com/brookr" target="_blank" class="icon-github"> GitHub</a></li>
        </ul>
      </nav>
    </header>
    <main>
      <section id="books" class="tab-content">
      </section>
    </main>
    <footer>
      &copy; 2015 Code Fellows | Static Blog | Happy Ipsum!
    </footer>

    <script src="/vendor/scripts/jquery-2.1.4.js"></script>
    <script src="/vendor/scripts/querydata.js"></script>
    <script src="/vendor/scripts/handlebars.js"></script>
    <script src="/vendor/scripts/marked.js"></script>
    <!-- DONE: Include the script files we need, that give us an API to the WebSQL feature of Chrome: -->
    <script src="/vendor/scripts/html5sql.js"></script>
    <script src="/scripts/webdb.js"></script>
    <script src="/scripts/book.js"></script>
    <script>
      var page = parseInt(new QueryData().page) || 0;
      var pageSize = 10;
      // DONE: Ensure that a database table for articles exists, every time we load the page.
      Book.createTable();
      Book.fetchAll(Book.initPage);
    </script>
  </body>
</html>
